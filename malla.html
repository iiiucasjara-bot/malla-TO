		
		
DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Malla Terapia Ocupacional UOH – Interactiva</title>
  <style>
    body{
      font-family: system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
      margin:0;
      background:#f4f6fb;
    }
    header{
      background:#005fb8;
      color:#fff;
      padding:14px 16px;
      text-align:center;
    }
    header h1{
      margin:0;
      font-size:18px;
    }
    #prog{
      margin-top:6px;
      font-size:13px;
    }
    .semestres{
      display:flex;
      gap:12px;
      padding:14px;
      overflow-x:auto;
    }
    .columna{
      background:#fff;
      border-radius:10px;
      padding:10px;
      min-width:190px;
      box-shadow:0 2px 6px rgba(0,0,0,.08);
      flex-shrink:0;
    }
    .columna h2{
      font-size:14px;
      text-align:center;
      margin:0 0 8px 0;
      color:#005fb8;
    }
    .ramo{
      font-size:12px;
      padding:6px 6px;
      border-radius:6px;
      margin-bottom:6px;
      border:2px solid #e5e7eb;
      cursor:pointer;
      line-height:1.2;
      transition:.12s;
    }
    .ramo span{
      display:block;
      font-size:10px;
      color:#6b7280;
      margin-top:2px;
    }
    .bloq{
      background:#f3f4f6;
      color:#9ca3af;
      border-color:#d1d5db;
      cursor:not-allowed;
    }
    .disp{
      background:#dcfce7;
      color:#166534;
      border-color:#4ade80;
    }
    .aprob{
      background:#dbeafe;
      color:#1d4ed8;
      border-color:#60a5fa;
    }
  </style>
</head>
<body>

<header>
  <h1>Malla Terapia Ocupacional UOH</h1>
  <div id="prog">Progreso: 0%</div>
</header>

<div class="semestres" id="contenedor"></div>

<script>
/* ==============================
   MALLA COMPLETA CON REQUISITOS
   ============================== */

let cursos = [

/* ========== 1° SEMESTRE ========== */
{id:"pf1",  nombre:"Principios y fundamentos de TO 1", sem:1, req:[]},
{id:"hp1",  nombre:"Habilidades profesionales 1",        sem:1, req:[]},
{id:"ebio", nombre:"Ética y Bioética",                   sem:1, req:[]},
{id:"matbio",nombre:"Matemáticas y Bioestadística",      sem:1, req:[]},
{id:"bio",  nombre:"Biología",                           sem:1, req:[]},
{id:"ss1",  nombre:"Sociedad y Salud 1",                 sem:1, req:[]},
{id:"cfg1", nombre:"CFG",                                sem:1, req:[]},

/* ========== 2° SEMESTRE ========== */
{id:"pf2",   nombre:"Principios y fundamentos de TO 2", sem:2, req:["pf1"]},
{id:"hp2",   nombre:"Habilidades profesionales 2",      sem:2, req:["hp1"]},
{id:"anat",  nombre:"Anatomía",                         sem:2, req:[]},       
{id:"bioq",  nombre:"Bioquímica",                       sem:2, req:["bio"]},
{id:"histo", nombre:"Histología y Embriología",         sem:2, req:["bio"]},
{id:"ss2",   nombre:"Sociedad y Salud 2",               sem:2, req:["ss1"]},

/* ========== 3° SEMESTRE ========== */
{id:"model1",     nombre:"Modelos de intervención de TO 1", sem:3, req:["pf2","hp2"]},
{id:"hp3",        nombre:"Habilidades profesionales 3",      sem:3, req:["hp2"]},
{id:"cursoVida",  nombre:"Curso de Vida",                    sem:3, req:[]},
{id:"fisio",      nombre:"Fisiología",                       sem:3, req:["anat","bioq","histo"]},
{id:"neurofisio", nombre:"Neurofisiología",                  sem:3, req:["anat","bioq","histo"]},
{id:"ing1",       nombre:"Inglés 1 / CFG",                   sem:3, req:[]},
{id:"ss3",        nombre:"Sociedad y Salud 3",               sem:3, req:["ss2"]},

/* ========== 4° SEMESTRE ========== */
{id:"model2",        nombre:"Modelos de intervención de TO 2", sem:4, req:["model1"]},
{id:"hp4",           nombre:"Habilidades profesionales 4",      sem:4, req:["hp3"]},
{id:"saludMentalCV", nombre:"Salud mental en el curso de vida", sem:4, req:["cursoVida","fisio","neurofisio"]},
{id:"fisBiomec",     nombre:"Física y Biomecánica",             sem:4, req:[]},
{id:"saludFisicaCV", nombre:"Salud física en el curso de vida", sem:4, req:["cursoVida","fisio","neurofisio"]},
{id:"farmaco",       nombre:"Farmacología",                     sem:4, req:["bioq","histo"]},
{id:"ing2",          nombre:"Inglés 2 / CFG",                   sem:4, req:["ing1"]},
{id:"saludPubSis",   nombre:"Salud pública y sistemas",         sem:4, req:["ss3"]},

/* ========== 5° SEMESTRE ========== */
{id:"estrategiasSocio", nombre:"Estrategias de evaluación e intervención sociocomunitaria", sem:5, req:[]},
{id:"practSocio",       nombre:"Prácticas integradas sociocomunitarias",                    sem:5, req:[]},
{id:"saludMentalCom",   nombre:"Salud mental comunitaria",                                 sem:5, req:[]},
{id:"anatFunc",         nombre:"Anatomía funcional",                                       sem:5, req:["anat"]},
{id:"derHumanos",       nombre:"Derechos humanos, políticas y normativas",                sem:5, req:[]},
{id:"saludGrupos",      nombre:"Salud de grupos y comunidades",                           sem:5, req:["ss3"]},
{id:"ing3",             nombre:"Inglés 3 / CFG",                                          sem:5, req:["ing2"]},

/* ========== 6° SEMESTRE ========== */
{id:"estrategiasEdu", nombre:"Estrategias de evaluación e intervención en educación", sem:6, req:[]},
{id:"practInclus",    nombre:"Prácticas integradas en inclusión",                     sem:6, req:[]},
{id:"ergo",           nombre:"Ergonomía",                                             sem:6, req:[]},
{id:"gestionProy",    nombre:"Gestión y metodología de proyectos",                    sem:6, req:[]},
{id:"inclusionPers",  nombre:"Inclusión de personas, grupos y comunidades",          sem:6, req:["saludGrupos"]},
{id:"investSalud",    nombre:"Investigación en Salud",                               sem:6, req:[]},
{id:"bioeticaTO",     nombre:"Bioética y TO",                                        sem:6, req:["ebio"]},
{id:"ing4",           nombre:"Inglés 4 / CFG",                                       sem:6, req:["ing3"]},

/* ========== 7° SEMESTRE ========== */
{id:"estrategiasSM",  nombre:"Estrategias de evaluación e intervención en salud mental", sem:7, req:[]},
{id:"practSM",        nombre:"Prácticas integradas en salud mental",                     sem:7, req:[]},
{id:"ortesis",        nombre:"Órtesis",                                                 sem:7, req:[]},
{id:"gestionInnov",   nombre:"Gestión, innovación y emprendimiento",                    sem:7, req:[]},
{id:"electivo1",      nombre:"Electivo 1",                                             sem:7, req:[]},
{id:"investTO1",      nombre:"Investigación en TO 1",                                  sem:7, req:[]},
{id:"ing5",           nombre:"Inglés 5",                                               sem:7, req:["ing4"]},

/* ========== 8° SEMESTRE ========== */
{id:"estrategiasSF",  nombre:"Estrategias de evaluación e intervención en salud física", sem:8, req:[]},
{id:"practSF",        nombre:"Prácticas integradas en salud física",                    sem:8, req:[]},
{id:"tecInclusion",   nombre:"Tecnologías para la inclusión",                          sem:8, req:[]},
{id:"liderazgoTO",    nombre:"Liderazgo y gestión en TO",                              sem:8, req:[]},
{id:"electivo2",      nombre:"Electivo 2",                                             sem:8, req:[]},
{id:"investTO2",      nombre:"Investigación en TO 2",                                  sem:8, req:["investTO1"]},
{id:"ing6",           nombre:"Inglés 6",                                               sem:8, req:["ing5"]},

/* ========== 9° SEMESTRE ========== */
{id:"internado1", nombre:"Internado Profesional 1", sem:9, req:[]},

/* ========== 10° SEMESTRE ========== */
{id:"internado2", nombre:"Internado Profesional 2", sem:10, req:["internado1"]},
{id:"proyectoTitulo", nombre:"Proyecto de Título",  sem:10, req:["internado1"]},

];

/* ==============================
   LÓGICA DE DESBLOQUEO
   ============================== */

let aprobados = JSON.parse(localStorage.getItem("malla_uoh_aprobados") || "[]");

function render(){
  const cont = document.getElementById("contenedor");
  cont.innerHTML = "";

  const total = cursos.length;
  const ok = aprobados.length;
  const progreso = total ? Math.round(ok/total*100) : 0;
  document.getElementById("prog").textContent =
    `Progreso: ${progreso}% (${ok}/${total} ramos aprobados)`;

  const maxSem = Math.max(...cursos.map(c => c.sem));

  for(let s=1; s<=maxSem; s++){
    const col = document.createElement("div");
    col.className = "columna";
    col.innerHTML = `<h2>${s}° semestre</h2>`;

    cursos.filter(c=>c.sem===s).forEach(curso=>{
      const tieneTodosReq = curso.req.every(id=>aprobados.includes(id));
      const estado = aprobados.includes(curso.id)
        ? "aprob"
        : (tieneTodosReq ? "disp" : "bloq");

      const div = document.createElement("div");
      div.className = `ramo ${estado}`;
      div.innerHTML = `${curso.nombre}${
        curso.req.length
          ? `<span>Req: ${curso.req.join(", ")}</span>`
          : `<span>Sin requisitos</span>`
      }`;

      div.onclick = () => {
        if(estado === "bloq") return; // no se puede
        if(aprobados.includes(curso.id)){
          aprobados = aprobados.filter(id=>id!==curso.id);
        }else{
          aprobados.push(curso.id);
        }
        localStorage.setItem("malla_uoh_aprobados", JSON.stringify(aprobados));
        render();
      };

      col.appendChild(div);
    });

    cont.appendChild(col);
  }
}

render();
</script>

</body>
</html>
